(this.webpackJsonppairgame=this.webpackJsonppairgame||[]).push([[0],[,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(9);var n=a(1),s=a.n(n),c=a(8),r=a.n(c),i=a(2),o=a(3),l=a(5),m=a(4),u=(a(14),a(0)),p=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={highscores:[]},e.highScoresList=function(){return e.state.highscores.map((function(e,t){return Object(u.jsxs)("li",{className:"player",children:[Object(u.jsx)("div",{className:"name",children:e.name}),Object(u.jsxs)("div",{className:"points",children:[e.points,Object(u.jsx)("span",{children:"points"})]}),Object(u.jsxs)("div",{className:"level",children:[e.level?e.level:0,Object(u.jsx)("span",{children:"level"})]})]},t)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("scoresList"))||[];this.setState({highscores:e})}},{key:"render",value:function(){return Object(u.jsx)("ul",{className:"highscores",children:this.highScoresList()})}}]),a}(s.a.Component),v=(a(16),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={imagesLoaded:!1},e.imagesList=function(){for(var e=[],t=0;t<28;t++)e.push({id:t,url:"images/"+t+".jpg"});return console.log(e),e},e.loadImage=function(e){return new Promise((function(t,a){var n=new Image;n.src=e.url,n.onload=function(){t(e.url)},n.onerror=function(e){return a(e)}}))},e.loadImages=function(){Promise.all(e.imagesList().map((function(t){return e.loadImage(t)}))).then((function(){return e.setState({imagesLoaded:!0})})).catch((function(t){e.setState({imagesLoaded:!0}),console.log(e.state.imagesLoaded,"Failed to load images",t)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadImages()}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"images",children:this.state.imagesLoaded?Object(u.jsx)("h5",{children:"Images Load, you can start the game"}):Object(u.jsx)("h5",{children:"Pre-loading images...."})})}}]),a}(s.a.Component)),d=(a(17),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).changeName=function(t){e.props.setplayerName(t.target.value)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"f-center",children:[Object(u.jsx)("div",{className:"highscore",children:"Highscores"}),Object(u.jsx)(p,{}),Object(u.jsxs)("div",{className:"start-block",children:[Object(u.jsx)("input",{value:this.props.playerName,type:"text",placeholder:"your name",onChange:this.changeName}),Object(u.jsx)(v,{}),Object(u.jsx)("button",{onClick:function(){return e.props.playGame()},children:"Start game"})]})]})}}]),a}(s.a.Component)),h=a(6),j=(a(18),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).wasClicked=function(){e.props.active||e.props.block&&e.props.demo||e.props.clicked(e.props.src,e.props.id)},e.makeClass=function(){var t="card ";return t+=e.props.demo?"show ":"",t+=e.props.block?"show-block ":"",t+=e.props.active?"show-active ":""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:this.makeClass(),onClick:function(){return e.wasClicked()},children:Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("img",{src:"images/".concat(this.props.src,".jpg"),alt:""}),Object(u.jsx)("div",{className:"overlay"})]})})}}]),a}(s.a.Component)),f=(a(19),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={time:e.props.time,level:e.props.level||1,interval:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){e.state.time>0&&e.setState({time:e.state.time-1})}),1e3);this.setState({interval:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"popmessage",children:[Object(u.jsxs)("div",{className:"level",children:["Level ",this.state.level]}),Object(u.jsx)("div",{className:"time",children:this.state.time})]})}}]),a}(s.a.Component)),O=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={level:0,points:0,time:0,errors:0,listOfCards:[],perfect:1,demoMode:!0,demoTime:9,activeKey:[],activeType:[],matched:[],gameEnd:!1},e.nextLevel=function(){e.setState({level:e.state.level+1,points:e.calculatePoints(),time:e.calculateTime(),errors:0,perfect:1,listOfCards:e.makeListOfCards(),demoMode:!0,demoTime:Math.max(4,Math.ceil(e.state.demoTime-.1*e.state.level)),matched:[]})},e.calculatePoints=function(){return e.state.points+e.state.level*e.state.time+100*e.state.level*e.state.perfect},e.calculateTime=function(){return Math.max(600-parseInt(Math.ceil(.05*e.state.level*600)),30)},e.makeListOfCards=function(){var t=8;e.state.level>4&&(t=10),e.state.level>8&&(t=12),e.state.level>12&&(t=15);var a=[].concat(Object(h.a)(Array(t).keys()),Object(h.a)(Array(t).keys()));return e.shuffleArray(a),a},e.shuffleArray=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}},e.stopGame=function(){clearInterval(e.interval),e.props.playerName&&e.state.points&&e.insertHighscore({name:e.props.playerName,level:e.state.level,points:e.calculatePoints()}),e.props.stopGame()},e.startLevel=function(){e.nextLevel(),setTimeout((function(){e.setState({demoMode:!1})}),1e3*e.state.demoTime)},e.insertHighscore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=JSON.parse(localStorage.getItem("scoresList"))||[],n=[].concat(Object(h.a)(a),[e]).sort((function(e,t){return parseInt(e.level)>parseInt(t.level)?-1:parseInt(t.level)>parseInt(e.level)?1:0})).sort((function(e,t){return parseInt(e.points)>parseInt(t.points)?-1:parseInt(t.points)>parseInt(e.points)?1:0})).slice(0,t);localStorage.setItem("scoresList",JSON.stringify(n))},e.clicked=function(t,a){if(e.state.demoMode)return!1;if(0===e.state.activeKey.length){var n=[].concat(Object(h.a)(e.state.activeType),[t]),s=[].concat(Object(h.a)(e.state.activeKey),[a]);e.setState({activeType:n,activeKey:s})}else if(e.state.activeKey.length<2&&e.state.activeType.includes(t)){var c=[].concat(Object(h.a)(e.state.matched),[t]);e.setState({matched:c,activeKey:[],activeType:[]}),2*c.length==e.state.listOfCards.length&&e.startLevel()}else{var r=[].concat(Object(h.a)(e.state.activeType),[t]),i=[].concat(Object(h.a)(e.state.activeKey),[a]),o=Math.max(e.state.points-10,0);e.setState({activeType:r,activeKey:i,points:o,perfect:0}),setTimeout((function(){e.setState({activeKey:[],activeType:[]})}),500)}},e.cards=function(){return e.state.listOfCards.map((function(t,a){return Object(u.jsx)(j,{src:t,type:t,id:a,clicked:e.clicked,block:e.state.matched.includes(t),demo:e.state.demoMode,active:e.state.activeKey.includes(a)},a)}))},e.popMessage=function(){return e.state.demoMode?Object(u.jsx)(f,{level:e.state.level,time:e.state.demoTime}):""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.startLevel(),this.interval=setInterval((function(){e.state.time>0&&!e.state.gameEnd?e.setState({time:e.state.time-1}):e.stopGame()}),1e3)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(s.a.Fragment,{children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"scores",children:[Object(u.jsx)("div",{className:"name",children:this.props.playerName}),Object(u.jsxs)("div",{className:"points",children:[this.state.points,Object(u.jsx)("span",{children:"points"})]}),Object(u.jsxs)("div",{className:"level",children:[this.state.level,Object(u.jsx)("span",{children:"level"})]})]}),this.popMessage(),Object(u.jsxs)("div",{className:"timeleft",children:[Object(u.jsx)("span",{children:"time left"}),this.state.time,Object(u.jsx)("span",{children:"s"})]}),Object(u.jsx)("button",{className:"btn",onClick:function(){return e.stopGame()},children:"Exit"})]}),Object(u.jsx)("div",{className:"cards line-".concat(this.state.listOfCards.length/2),children:this.cards()})]})}}]),a}(s.a.Component),b=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={playing:!1,playerName:""},e.setPlayerName=function(t){e.setState({playerName:t}),localStorage.setItem("playername",JSON.stringify(t))},e.toggleGame=function(){e.setState({playing:!e.state.playing})},e.showMyComponent=function(){return e.state.playing?Object(u.jsx)(O,{stopGame:e.toggleGame,playerName:e.state.playerName}):Object(u.jsx)(d,{playGame:e.toggleGame,playerName:e.state.playerName,setplayerName:e.setPlayerName})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("playername"))||"";this.setPlayerName(e)}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"content",children:this.showMyComponent()})}}]),a}(s.a.Component);r.a.render(Object(u.jsx)(b,{}),document.querySelector("#root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.885932f8.chunk.js.map